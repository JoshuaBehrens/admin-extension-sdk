"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8395],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=i.createContext({}),p=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=p(e.components);return i.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},c=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=p(n),m=a,g=c["".concat(l,".").concat(m)]||c[m]||d[m]||r;return n?i.createElement(g,s(s({ref:t},u),{},{components:n})):i.createElement(g,s({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,s=new Array(r);s[0]=c;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:a,s[1]=o;for(var p=2;p<r;p++)s[p]=n[p];return i.createElement.apply(null,s)}return i.createElement.apply(null,n)}c.displayName="MDXCreateElement"},1813:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var i=n(7462),a=(n(7294),n(3905));const r={title:"Installation",sidebar_position:1},s="Installation",o={unversionedId:"guide/getting-started/installation",id:"guide/getting-started/installation",title:"Installation",description:"Prerequisites:",source:"@site/docs/guide/1_getting-started/installation.md",sourceDirName:"guide/1_getting-started",slug:"/guide/getting-started/installation",permalink:"/admin-extension-sdk/docs/guide/getting-started/installation",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Installation",sidebar_position:1},sidebar:"Guide",previous:{title:"Introduction",permalink:"/admin-extension-sdk/docs/guide/"},next:{title:"Vue dev tools",permalink:"/admin-extension-sdk/docs/guide/getting-started/devTools"}},l={},p=[{value:"Prerequisites:",id:"prerequisites",level:2},{value:"Prepare your app or plugin",id:"prepare-your-app-or-plugin",level:2},{value:"App:",id:"app",level:3},{value:"Plugin:",id:"plugin",level:3},{value:"Installing the SDK:",id:"installing-the-sdk",level:2},{value:"Using NPM (require bundling):",id:"using-npm-require-bundling",level:3},{value:"Using CDN:",id:"using-cdn",level:3},{value:"Adding types for Entities (TS only)",id:"adding-types-for-entities-ts-only",level:2},{value:"Using auto-generated types from Shopware",id:"using-auto-generated-types-from-shopware",level:3},{value:"Using &quot;any&quot; fallback",id:"using-any-fallback",level:3},{value:"Using custom types",id:"using-custom-types",level:3}],u={toc:p};function d(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,i.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"installation"},"Installation"),(0,a.kt)("h2",{id:"prerequisites"},"Prerequisites:"),(0,a.kt)("p",null,"You need to have an working ",(0,a.kt)("a",{parentName:"p",href:"https://developer.shopware.com/docs/guides/plugins/apps/app-base-guide"},"app")," or ",(0,a.kt)("a",{parentName:"p",href:"https://developer.shopware.com/docs/guides/plugins/plugins/plugin-base-guide"},"plugin")," installed on your Shopware 6 instance."),(0,a.kt)("h2",{id:"prepare-your-app-or-plugin"},"Prepare your app or plugin"),(0,a.kt)("h3",{id:"app"},"App:"),(0,a.kt)("p",null,"You need to create a HTML page with an JS file for your app. This page can be located anywhere, but it needs to be accessible from an URL.\nFor development purposes you can create a ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/tapio/live-server"},"local server")," which will be ",(0,a.kt)("a",{parentName:"p",href:"https://ngrok.com/"},"exposed publicly"),"."),(0,a.kt)("p",null,"Then you need to add the ",(0,a.kt)("inlineCode",{parentName:"p"},"<base-app-url>")," field to the ",(0,a.kt)("inlineCode",{parentName:"p"},"<admin>")," section of the ",(0,a.kt)("a",{parentName:"p",href:"https://developer.shopware.com/docs/guides/plugins/apps/app-base-guide#manifest-file"},"manifest")," file. This field should contain the public URL of your app. Let's assume your app HTML page is served under ",(0,a.kt)("inlineCode",{parentName:"p"},"http://localhost/my-example-app.html"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<manifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://raw.githubusercontent.com/shopware/platform/trunk/src/Core/Framework/App/Manifest/Schema/manifest-1.0.xsd">\n    <meta>\n        <name>MyExampleApp</name>\n        \x3c!-- App meta data... --\x3e\n    </meta>\n    <admin>\n        \x3c!-- Insert your app page URL here --\x3e\n        <base-app-url>http://localhost/my-example-app.html</base-app-url>\n    </admin>\n</manifest>\n')),(0,a.kt)("p",null,"In your new HTML file you need inject a JS file. This file can use the Admin Extension SDK via CDN or if you want to use a build tools then you\ncan use the NPM package."),(0,a.kt)("h3",{id:"plugin"},"Plugin:"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Notice:")," Plugins will work on self-hosted instances only. You won't be able to use a Shopware 6 cloud instance with plugins."),(0,a.kt)("p",null,"Open the path ",(0,a.kt)("inlineCode",{parentName:"p"},"custom/plugins/yourPlugin/src/Resources/app/administration"),". This is the base path for all new admin files."),(0,a.kt)("p",null,"Create a new base ",(0,a.kt)("inlineCode",{parentName:"p"},"index.html")," file. This file will be automatically injected to the administration when the plugin is activated. Then you need to create a JavaScript file in the subfolder ",(0,a.kt)("inlineCode",{parentName:"p"},"src/main.js"),". This file will be automatically injected into the created HTML file."),(0,a.kt)("p",null,"For plugins the best way is to install the SDK via NPM. But first you need to initialize a new NPM project in your plugin folder with\n",(0,a.kt)("inlineCode",{parentName:"p"},"npm init --yes"),"."),(0,a.kt)("h2",{id:"installing-the-sdk"},"Installing the SDK:"),(0,a.kt)("p",null,"The preferred way of using the library is with a NPM package. This guarantees the smallest bundle size for your apps and plugins, since this way only necessary functions are bundled together."),(0,a.kt)("p",null,"The CDN method is easy to use and fast to implement. It is best used for quick prototyping or if you don't want to work with building tools."),(0,a.kt)("h3",{id:"using-npm-require-bundling"},"Using NPM (require bundling):"),(0,a.kt)("p",null,"Install it to your ",(0,a.kt)("inlineCode",{parentName:"p"},"package.json")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"npm i --save @shopware-ag/admin-extension-sdk\n")),(0,a.kt)("p",null,"and import it into your app or plugin:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// import everything as one big object\nimport * as sw from '@shopware-ag/admin-extension-sdk';\n\n// or import only needed functionality scope\nimport { notification }  from '@shopware-ag/admin-extension-sdk';\n\n// or the direct method (here with an alias)\nimport { dispatch as dispatchNotification } from '@shopware-ag/admin-extension-sdk/es/notification'\n\n")),(0,a.kt)("h3",{id:"using-cdn"},"Using CDN:"),(0,a.kt)("p",null,"Import the source from the CDN"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'// use the latest version available\n<script src="https://unpkg.com/@shopware-ag/admin-extension-sdk/cdn"><\/script>\n\n// use a fix version (example here: 1.2.3)\n<script src="https://unpkg.com/@shopware-ag/admin-extension-sdk@1.2.3/cdn"><\/script>\n')),(0,a.kt)("p",null,"and access it with the global variable ",(0,a.kt)("inlineCode",{parentName:"p"},"sw"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"sw.notification.dispatch({\n  title: 'My first notification',\n  message: 'This was really easy to do'\n})\n")),(0,a.kt)("h2",{id:"adding-types-for-entities-ts-only"},"Adding types for Entities (TS only)"),(0,a.kt)("p",null,"The data management inside the SDK supports complete TypeScript support. This allows complete type safety when getting\nentities, editing or saving them. Currently, you need to write the types yourself. But we are working on an auto-generated\ntype definitions for the Shopware releases."),(0,a.kt)("p",null,"For adding the types you need to create a global type definition file like ",(0,a.kt)("inlineCode",{parentName:"p"},"global.d.ts"),". Inside this file you can\nadd the types for the entities by extending the global namespace."),(0,a.kt)("h3",{id:"using-auto-generated-types-from-shopware"},"Using auto-generated types from Shopware"),(0,a.kt)("p",null,"This is currently not finished yet and will be released soon."),(0,a.kt)("h3",{id:"using-any-fallback"},'Using "any" fallback'),(0,a.kt)("p",null,"This is the easiest solution. You set the type to ",(0,a.kt)("inlineCode",{parentName:"p"},"any")," for every entity. The downside of this is the missing type safety."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"// global.d.ts\ndeclare namespace EntitySchema {\n    interface Entities {\n        [entityName: key]: any;\n    }\n}\n")),(0,a.kt)("h3",{id:"using-custom-types"},"Using custom types"),(0,a.kt)("p",null,"This is the safest solution. You define for every needed entity every property and association. The downside of this is\nthat it takes time to write the definitions."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"// global.d.ts\ndeclare namespace EntitySchema {\n    interface Entities {\n        // using product_manufacturer as an example\n        product_manufacturer: product_manufacturer;\n        // in this case 'media', 'product' and 'product_manufacturer_translation' is also needed\n        ...\n    }\n\n    interface product_manufacturer {\n        id: string;\n        versionId: string;\n        mediaId?: string;\n        link?: string;\n        name: string;\n        description?: string;\n        customFields?: unknown;\n        /* \n        * Entity and EntityCollection is defined in the namespace and can directly be used.\n        * The value in the generic (here 'media', 'product' and 'product_manufacturer_translation') need\n        * also to be defined in this file.\n        */ \n        media?: Entity<'media'>;\n        products?: EntityCollection<'product'>;\n        translations: EntityCollection<'product_manufacturer_translation'>;\n        createdAt: string;\n        updatedAt?: string;\n        translated?: {name?: string, description?: string, customFields?: unknown};\n    }\n\n    // 'media', 'product' and 'product_manufacturer_translation' also needs to be added\n    ...\n}\n")))}d.isMDXComponent=!0}}]);