"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4113],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=o.createContext({}),l=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=l(e.components);return o.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(n),h=i,m=u["".concat(c,".").concat(h)]||u[h]||d[h]||a;return n?o.createElement(m,r(r({ref:t},p),{},{components:n})):o.createElement(m,r({ref:t},p))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,r=new Array(a);r[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var l=2;l<a;l++)r[l]=n[l];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},3302:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var o=n(7462),i=(n(7294),n(3905));const a={},r="Locations",s={unversionedId:"guide/concepts/locations",id:"guide/concepts/locations",title:"Locations",description:"Extensions can render custom views via iFrames. To support multiple views in different places every location of the iFrame gets a unique ID. These can be defined by the extension developer itself.",source:"@site/docs/guide/4_concepts/locations.md",sourceDirName:"guide/4_concepts",slug:"/guide/concepts/locations",permalink:"/admin-extension-sdk/docs/guide/concepts/locations",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"Guide",previous:{title:"Component sections",permalink:"/admin-extension-sdk/docs/guide/concepts/component-sections"},next:{title:"Positions",permalink:"/admin-extension-sdk/docs/guide/concepts/positions"}},c={},l=[{value:"Base location",id:"base-location",level:2},{value:"Change height of location iFrame",id:"change-height-of-location-iframe",level:2},{value:"Avoiding scrollbars",id:"avoiding-scrollbars",level:2}],p={toc:l};function d(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,o.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"locations"},"Locations"),(0,i.kt)("p",null,"Extensions can render custom views via iFrames. To support multiple views in different places every ",(0,i.kt)("inlineCode",{parentName:"p"},"location")," of the iFrame gets a unique ID. These can be defined by the extension developer itself."),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Example:"),"  "),(0,i.kt)("p",null,"A extension wants to render a custom iFrame in a card in the dashboard. The ",(0,i.kt)("inlineCode",{parentName:"p"},"location")," of the iFrame has then a specific ",(0,i.kt)("inlineCode",{parentName:"p"},"locationId")," like ",(0,i.kt)("inlineCode",{parentName:"p"},"sw-dashboard-example-app-dashboard-card"),". The app can also render another iFrames which also get ",(0,i.kt)("inlineCode",{parentName:"p"},"locationId"),"s. In our example it is a iFrame in a custom modal: ",(0,i.kt)("inlineCode",{parentName:"p"},"example-app-example-modal-content"),"."),(0,i.kt)("p",null,"The extension want to render different views depending on the ",(0,i.kt)("inlineCode",{parentName:"p"},"location")," of the iFrame. So the extension developer can render the correct view depending on the ",(0,i.kt)("inlineCode",{parentName:"p"},"locationId"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// Add the ui extensions when your extension is loaded in the hidden iFrame\nif (location.is(location.MAIN_HIDDEN)) {\n  ui.componentSection.add({\n      component: 'card',\n      positionId: 'sw-product-properties__before',\n      props: {\n          title: 'Hello from plugin',\n          subtitle: 'I am before the properties card',\n          /**\n           *  The locationId:\n           **/\n          locationId: 'my-app-card-before-properties'\n      }\n  })\n}\n\n// Render the custom UI when the iFrame location matches your defined location\nif (sw.location.is('my-app-card-before-properties')) {\n    document.body.innerHTML = '<h1>I am the in the location \"my-app-card-before-properties\"</h1>';\n}\n")),(0,i.kt)("h2",{id:"base-location"},"Base location"),(0,i.kt)("p",null,"Every extension gets rendered in a hidden iFrame. In this iFrame the extension can execute different commands to extend\nthe administration and add custom locations to different extension points. To check if the script will be executed in this\nlocation you can use the predefined constant:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { location } from '@shopware-ag/admin-extension-sdk';\n\nif (location.is(location.MAIN_HIDDEN)) {\n  // Do the stuff in the hidden iFrame\n}\n")),(0,i.kt)("h2",{id:"change-height-of-location-iframe"},"Change height of location iFrame"),(0,i.kt)("p",null,"The iFrame height is by default fixed. You can update the height with the location helper:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"location.updateHeight(750); // change iFrame height to 750px\n")),(0,i.kt)("p",null,"If you use a parameter then the height will automatically be calculated so that your whole view gets rendered. In most cases\nyou don't want to update the height manually. To watch for height changes you can use the auto resizer. It updates the iFrame\nheight everytime the height of the view changes:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// watch for height changes and update the iFrame\nlocation.startAutoResizer();\n")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Auto Resizer example",src:n(3131).Z,width:"800",height:"346"})),(0,i.kt)("h2",{id:"avoiding-scrollbars"},"Avoiding scrollbars"),(0,i.kt)("p",null,"If you render custom locations it is useful to disable the scroll behavior in your view. Otherwise scrollbars are visible\nwhich aren't needed in most cases. To avoid this you can add the css property ",(0,i.kt)("inlineCode",{parentName:"p"},"overflow: hidden;")," to the ",(0,i.kt)("inlineCode",{parentName:"p"},"body")," element."))}d.isMDXComponent=!0},3131:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/auto-resizer-c312932409cf7781ca9318664b85df43.gif"}}]);